(function(t){function e(e){for(var s,n,l=e[0],i=e[1],c=e[2],p=0,d=[];p<l.length;p++)n=l[p],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},o=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=i;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{dark:"",app:""}},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"div"}},[a("span",[t._v("Demo")]),a("span",{staticClass:"font-weight-light"},[t._v("Countries")])])],1),a("v-spacer"),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"mdi-magnify","single-line":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchCountry(t.searchQuery)}},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1),a("v-btn",{staticClass:"mx-2",attrs:{to:"/add",small:"",outlined:"",fab:""}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1),a("v-content",{attrs:{xs:"12",sm:"6",md:"3"}},[a("router-view")],1)],1)},o=[],n=a("2f62"),l={name:"App",data(){return{searchQuery:""}},methods:{...Object(n["b"])({search:"search"}),searchCountry(t){this.search(t),this.$router.push("/")}}},i=l,c=a("2877"),u=a("6544"),p=a.n(u),d=a("7496"),v=a("40dc"),h=a("8336"),f=a("62ad"),m=a("a75b"),b=a("132d"),x=a("2fa4"),g=a("8654"),y=a("2a7f"),_=Object(c["a"])(i,r,o,!1,null,null,null),w=_.exports;p()(_,{VApp:d["a"],VAppBar:v["a"],VBtn:h["a"],VCol:f["a"],VContent:m["a"],VIcon:b["a"],VSpacer:x["a"],VTextField:g["a"],VToolbarTitle:y["a"]});var C=a("f309");s["a"].use(C["a"]);var V=new C["a"]({icons:{iconfont:"mdi"}}),k=a("bc3a"),O=a.n(k),$={state:{proxi:"https://cors-anywhere.herokuapp.com/",api:"http://45.12.18.189",posts:[],current:{}},getters:{getAll:t=>{return t.posts},getCurrent:t=>{return t.current}},mutations:{setPosts(t,e){t.posts=e},searchPosts(t,e){t.posts=t.posts.filter(t=>{return-1!==t.title.indexOf(e)||!1})}},actions:{upload({commit:t,state:e}){O.a.get(e.proxi+e.api+"/posts").then(e=>{t("setPosts",e.data)}).catch(t=>{console.error(t)})},show({state:t},e){t.current=t.posts.filter(t=>{return t.id==e||!1})},create({state:t,dispatch:e},a){O.a.post(t.proxi+t.api+"/create/post",a).then(t=>{console.log(t),e("upload")}).catch(t=>{console.log(t)})},update({state:t},e){O.a.post(t.proxi+t.api+"/update/"+e.id,e).then(t=>{console.log(t)}).catch(t=>{console.log(t)})},destroy({state:t,dispatch:e},a){O.a.delete(t.proxi+t.api+"/post/"+a).then(t=>{e("upload"),console.log(t)}).catch(t=>{console.error(t)})},search({commit:t,dispatch:e},a){""===a?e("upload"):t("searchPosts",a)}}};s["a"].use(n["a"]);var j=new n["a"].Store({modules:{post:$}}),T=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",t._l(t.posts,(function(e){return a("v-card",{key:e.id,staticClass:"mx-auto mb-3",attrs:{"max-width":"100%"}},[a("v-img",{attrs:{src:e.image,height:"200px"}}),a("v-card-title",[a("h3",[t._v(t._s(e.title))])]),a("v-card-text",[a("p",{staticClass:"grey--text subtitle-1"},[t._v(t._s(e.description))])]),a("v-card-actions",[a("v-btn",{attrs:{to:"/post/"+e.id,text:""}},[t._v("Подробнее")])],1)],1)})),1)},S=[],A={methods:{...Object(n["b"])({upload:"upload"})},created(){this.upload()},computed:{...Object(n["c"])({posts:"getAll"})}},E=A,B=a("b0af"),F=a("99d9"),I=a("a523"),M=a("adda"),Q=Object(c["a"])(E,P,S,!1,null,null,null),D=Q.exports;p()(Q,{VBtn:h["a"],VCard:B["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VContainer:I["a"],VImg:M["a"]});var q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[t.view?a("v-card",{staticClass:"mx-auto mb-3",attrs:{"max-width":"100%"}},[a("v-img",{attrs:{src:t.view.image,height:"400px"}}),a("v-card-title",[a("h4",[t._v(t._s(t.view.title))])]),a("v-card-text",[a("p",{staticClass:"subtitle-1"},[t._v(t._s(t.view.description))]),a("p",{staticClass:"grey--text subtitle-3"},[t._v("Опубликовано: "+t._s(t.view.created_at))])]),a("v-card-text",[a("div",{domProps:{innerHTML:t._s(t.view.content)}})]),a("v-card-actions",[a("v-btn",{attrs:{to:"/update/"+t.view.id,text:""}},[t._v("Редактировать")]),a("v-btn",{attrs:{text:"",color:"purple"},on:{click:t.deletePost}},[t._v("\n            Удалить\n            ")])],1)],1):t._e()],1)},J=[],R={data(){return{view:!1}},created(){this.show(this.$route.params.id);let t=this.$store.getters.getCurrent;t[0]&&(this.view=t[0])},methods:{...Object(n["b"])({show:"show",destroy:"destroy"}),deletePost(){this.destroy(this.view.id),this.$router.push("/")}}},H=R,L=Object(c["a"])(H,q,J,!1,null,null,null),U=L.exports;p()(L,{VBtn:h["a"],VCard:B["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VContainer:I["a"],VImg:M["a"]});var z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h2",[t._v("Add new Country post")]),a("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"Title",rules:t.rules},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}}),a("v-text-field",{attrs:{label:"Image",rules:t.rules},model:{value:t.post.image,callback:function(e){t.$set(t.post,"image",e)},expression:"post.image"}}),a("v-text-field",{attrs:{label:"Slug",rules:t.rules},model:{value:t.post.slug,callback:function(e){t.$set(t.post,"slug",e)},expression:"post.slug"}}),a("v-text-field",{attrs:{label:"Description",rules:t.rules},model:{value:t.post.description,callback:function(e){t.$set(t.post,"description",e)},expression:"post.description"}}),a("v-textarea",{staticClass:"mt-3",attrs:{outlined:"",label:"Content",rules:t.rules},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}}),a("v-btn",{attrs:{disabled:!t.valid,dark:""},on:{click:t.add}},[t._v("Create")])],1)],1)},G=[],K={data(){return{post:{image:"",title:"",slug:"",description:"",content:""},rules:[t=>!!t||"Required."],valid:!1}},methods:{...Object(n["b"])({create:"create"}),add(){this.create(this.post),this.$router.push("/")}}},N=K,W=a("4bd4"),X=a("a844"),Y=Object(c["a"])(N,z,G,!1,null,null,null),Z=Y.exports;p()(Y,{VBtn:h["a"],VContainer:I["a"],VForm:W["a"],VTextField:g["a"],VTextarea:X["a"]});var tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h2",[t._v("Edit")]),a("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"Title",rules:t.rules},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}}),a("v-text-field",{attrs:{label:"Image",rules:t.rules},model:{value:t.post.image,callback:function(e){t.$set(t.post,"image",e)},expression:"post.image"}}),a("v-text-field",{attrs:{label:"Slug",rules:t.rules},model:{value:t.post.slug,callback:function(e){t.$set(t.post,"slug",e)},expression:"post.slug"}}),a("v-text-field",{attrs:{label:"Description",rules:t.rules},model:{value:t.post.description,callback:function(e){t.$set(t.post,"description",e)},expression:"post.description"}}),a("v-textarea",{staticClass:"mt-3",attrs:{outlined:"",label:"Content",rules:t.rules},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}}),a("v-btn",{attrs:{disabled:!t.valid,dark:""},on:{click:t.updatePost}},[t._v("Update")]),a("v-btn",{staticClass:"ml-3",attrs:{to:"/"}},[t._v("Назад")])],1)],1)},et=[],at={data(){return{post:{id:"",image:"",title:"",slug:"",description:"",content:""},rules:[t=>!!t||"Required."],valid:!1}},created(){this.show(this.$route.params.id);let t=this.$store.getters.getCurrent;t[0]&&(this.post=t[0])},methods:{...Object(n["b"])({update:"update",show:"show"}),updatePost(){this.update(this.post),this.$router.push("/post/"+this.post.id)}}},st=at,rt=Object(c["a"])(st,tt,et,!1,null,null,null),ot=rt.exports;p()(rt,{VBtn:h["a"],VContainer:I["a"],VForm:W["a"],VTextField:g["a"],VTextarea:X["a"]});var nt=[{path:"/",component:D},{path:"/post/:id",component:U},{path:"/add",component:Z},{path:"/update/:id",component:ot}];s["a"].use(T["a"]);var lt=new T["a"]({routes:nt,mode:"history"});s["a"].config.productionTip=!1,new s["a"]({router:lt,store:j,vuetify:V,render:t=>t(w)}).$mount("#app")}});
//# sourceMappingURL=app.54ed283d.js.map