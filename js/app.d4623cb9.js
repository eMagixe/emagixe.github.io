(function(t){function e(e){for(var n,a,r=e[0],l=e[1],c=e[2],d=0,f=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,r=1;r<s.length;r++){var l=s[r];0!==o[l]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=s[0]))}return t}var n={},o={app:0},i=[];function a(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=n,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],a={name:"App"},r=a,l=(s("034f"),s("2877")),c=Object(l["a"])(r,o,i,!1,null,null,null),u=c.exports,d=s("8c4f"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("note-list")],1)},p=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"todo-list"},[s("div",{staticClass:"todo-list__title"},[t._v(" My To Do list ")]),s("div",{staticClass:"todo-list__panel"},[s("button",{staticClass:"todo-list__btn_add",on:{click:t.createNote}},[t._v("Add New")])]),t._l(t.getNotes,(function(e){return s("div",{key:e.id,staticClass:"todo-list__unit"},[s("div",{staticClass:"todo-list__unit--first-lvl"},[s("div",[t._v(t._s(e.name))]),s("div",{staticClass:"todo-list__unit__actions"},[s("router-link",{staticClass:"todo-list__btn",attrs:{to:"/edit/"+e.id}},[t._v("✎")]),s("button",{staticClass:"todo-list__btn",on:{click:function(s){t.currentNote=e.id}}},[t._v("×")])],1)]),s("task-list",{attrs:{limit:3,id_note:e.id}}),t.currentNote===e.id?s("popup",{on:{response:t.deleteNote,close:function(e){t.currentNote=!1}}},[t._v(" Do you really want to delete list "),s("strong",{staticClass:"purple"},[t._v('"#'+t._s(e.id)+" - "+t._s(e.name)+'"')]),t._v("? ")]):t._e()],1)}))],2)},v=[],m=s("1da1"),h=(s("96cf"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"todo-list__unit--second-lvl"},t._l(t.filterTasksFromNote,(function(e){return s("li",{key:e.id},[s("span",[t._v(t._s(e.text))])])})),0)}),k=[],b=(s("a9e3"),{props:{id_note:Number,limit:Number},computed:{filterTasksFromNote:function(){return this.$store.getters.filterTasksFromNote(this.id_note,this.limit)}}}),y=b,N=(s("9c38"),Object(l["a"])(y,h,k,!1,null,null,null)),g=N.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-window"},[s("div",{staticClass:"modal modal-small"},[s("div",{staticClass:"modal-header"},[s("span",{staticClass:"purple"},[t._v("Confirm action")]),s("span",{staticClass:"close",on:{click:t.close}},[t._v("×")])]),s("div",{staticClass:"modal-content"},[t._t("default")],2),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"modal-btn modal-btn--cancel",attrs:{type:"button"},on:{click:function(e){return t.response(!1)}}},[t._v("Cancel")]),s("button",{staticClass:"modal-btn",attrs:{type:"button"},on:{click:function(e){return t.response(!0)}}},[t._v("Yes")])])])])},T=[],A={methods:{close:function(){this.$emit("close")},response:function(t){this.$emit("response",t),this.$emit("close")}}},w=A,x=(s("88c8"),Object(l["a"])(w,C,T,!1,null,null,null)),$=x.exports,O={components:{TaskList:g,Popup:$},data:function(){return{currentNote:!1}},computed:{getNotes:function(){return this.$store.getters.getNotes}},methods:{deleteNote:function(t){t&&this.$store.dispatch("deleteNote",this.currentNote)},createNote:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("createNote",{name:"New Note"});case 1:case"end":return e.stop()}}),e)})))()}}},j=O,S=(s("be81"),Object(l["a"])(j,_,v,!1,null,null,null)),P=S.exports,D={components:{NoteList:P},mounted:function(){this.$store.dispatch("loadData")}},E=D,F=Object(l["a"])(E,f,p,!1,null,null,null),I=F.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"todo-list"},[s("div",{staticClass:"todo-list__title"},[s("router-link",{staticClass:"todo-list__title--back",attrs:{to:"/"}},[t._v("←")]),t._v(" Edit list ")],1),t.note?s("div",{staticClass:"todo-list__unit--edit"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.note.name,expression:"note.name"}],staticClass:"todo-list__input",attrs:{type:"text",name:"title"},domProps:{value:t.note.name},on:{input:function(e){e.target.composing||t.$set(t.note,"name",e.target.value)}}}),s("button",{staticClass:"todo-list__btn",on:{click:function(e){t.currentNote=t.note.id}}},[t._v("×")])]):t._e(),t.currentNote===t.note.id?s("popup",{on:{response:t.deleteNote,close:function(e){t.currentNote=!1}}},[t._v(" Do you really want to delete list "),s("strong",{staticClass:"purple"},[t._v('"#'+t._s(t.note.id)+" - "+t._s(t.note.name))]),t._v("? ")]):t._e(),s("edit-task-list",{attrs:{id_note:t.note.id}})],1)},M=[],L=s("3835"),R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"todo-list__unit--second-lvl"},[s("button",{staticClass:"todo-list__btn_create",on:{click:t.createTask}},[t._v("Add Task")]),s("button",{staticClass:"todo-list__btn_save",on:{click:t.saveAll}},[t._v("Save All")]),s("button",{staticClass:"todo-list__btn_reset",on:{click:function(e){t.reset=!0}}},[t._v("Reset")]),t.reset?s("popup",{on:{response:t.resetAll,close:function(e){t.reset=!1}}},[t._v(" Do you want to reset all changes? ")]):t._e(),t._l(t.filterTasksFromNote,(function(e){return s("div",{key:e.id,staticClass:"todo-list__unit--second-lvl-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"task.status"}],attrs:{type:"checkbox",name:"status"},domProps:{checked:Array.isArray(e.status)?t._i(e.status,null)>-1:e.status},on:{change:function(s){var n=e.status,o=s.target,i=!!o.checked;if(Array.isArray(n)){var a=null,r=t._i(n,a);o.checked?r<0&&t.$set(e,"status",n.concat([a])):r>-1&&t.$set(e,"status",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(e,"status",i)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"task.text"}],staticClass:"todo-list__input",attrs:{type:"text",name:"task"},domProps:{value:e.text},on:{input:function(s){s.target.composing||t.$set(e,"text",s.target.value)}}}),s("button",{staticClass:"todo-list__btn",on:{click:function(s){t.currentTask=e.id}}},[t._v("×")]),t.currentTask===e.id?s("popup",{on:{response:t.deleteTask,close:function(e){t.currentTask=!1}}},[t._v(" Do you really want to delete list "),s("strong",{staticClass:"purple"},[t._v('"#'+t._s(e.id)+" - "+t._s(e.text)+'"')]),t._v("? ")]):t._e()],1)}))],2)},Y=[],q={components:{Popup:$},data:function(){return{currentTask:!1,reset:!1}},props:{id_note:Number},methods:{deleteTask:function(t){t&&this.$store.dispatch("deleteTask",this.currentTask)},createTask:function(){this.$store.dispatch("createTask",{id_note:this.id_note,status:!1,text:"New task"})},saveAll:function(){this.$store.dispatch("saveAll")},resetAll:function(t){t&&this.$store.dispatch("loadData")}},computed:{filterTasksFromNote:function(){return this.$store.getters.filterTasksFromNote(this.id_note)}}},z=q,B=(s("ea5d"),Object(l["a"])(z,R,Y,!1,null,null,null)),G=B.exports,H={components:{EditTaskList:G,Popup:$},data:function(){return{note_id:parseInt(this.$route.params.id),currentNote:!1}},computed:{note:function(){var t=this.$store.getters.getNote(this.note_id),e=Object(L["a"])(t,1),s=e[0];return s||!1}},methods:{deleteNote:function(t){t&&this.$store.dispatch("deleteNote",this.note_id)}}},K=H,Q=(s("d572"),Object(l["a"])(K,J,M,!1,null,null,null)),U=Q.exports;n["a"].use(d["a"]);var V=[{path:"/",component:I},{path:"/edit/:id",component:U}],W=new d["a"]({mode:"history",routes:V}),X=(s("c740"),s("a434"),s("d3b7"),s("159b"),s("e9c4"),s("4de4"),s("fb6a"),s("2f62"));n["a"].use(X["a"]);var Z=new X["a"].Store({state:{notes:[],tasks:[]},actions:{deleteTask:function(t,e){var s=t.commit;s("deleteTask",e),s("saveAll")},createTask:function(t,e){var s=t.commit;s("createTask",e)},deleteNote:function(t,e){var s=t.commit;s("deleteNote",e),s("saveAll")},createNote:function(t,e){var s=t.commit;s("createNote",e)},saveAll:function(t){var e=t.commit;e("saveAll")},loadData:function(t){var e=t.commit;e("loadData")}},mutations:{deleteTask:function(t,e){var s=t.tasks.findIndex((function(t){return t.id===e}));t.tasks.splice(s,1)},createTask:function(t,e){var s,n;Array.isArray(t.tasks)?e.id=(null===(s=t.tasks[t.tasks.length-1])||void 0===s?void 0:s.id)+1||1:(t.tasks=[],e.id=(null===(n=t.tasks[t.tasks.length-1])||void 0===n?void 0:n.id)+1||1);t.tasks.push(e)},deleteNote:function(t,e){Array.isArray(t.tasks)||(t.tasks=[]),Array.isArray(t.notes)||(t.notes=[]);var s=t.notes.findIndex((function(t){return t.id===e}));t.notes.splice(s,1),t.tasks.forEach((function(s,n){console.log(e),s.id_note===e&&t.tasks.splice(n,1)}))},createNote:function(t,e){var s,n;Array.isArray(t.notes)||(Z.tasks=[]),e.id=(null===(s=t.notes[t.notes.length-1])||void 0===s?void 0:s.id)+1||1,e.id=(null===(n=t.notes[t.notes.length-1])||void 0===n?void 0:n.id)+1||1,t.notes.push(e)},saveAll:function(t){localStorage.setItem("notes",JSON.stringify(t.notes)),localStorage.setItem("tasks",JSON.stringify(t.tasks))},loadData:function(t){t.notes=JSON.parse(localStorage.getItem("notes"))||[],t.tasks=JSON.parse(localStorage.getItem("tasks"))||[]}},getters:{filterTasksFromNote:function(t){return function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Array.isArray(t.tasks)||(t.tasks=[]);var n=t.tasks.filter((function(t){return t.id_note===e}));return s>0?n.slice(0,s):n}},getNotes:function(t){return t.notes},getNote:function(t){return function(e){return Array.isArray(t.notes)||(t.notes=[]),t.notes.filter((function(t){return t.id===e}))}}}}),tt=Z;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(u)},router:W,store:tt}).$mount("#app")},"85ec":function(t,e,s){},"88c8":function(t,e,s){"use strict";s("e958")},"9c38":function(t,e,s){"use strict";s("f1d0")},be81:function(t,e,s){"use strict";s("d58e")},d572:function(t,e,s){"use strict";s("fea3")},d58e:function(t,e,s){},e958:function(t,e,s){},ea5d:function(t,e,s){"use strict";s("ff65")},f1d0:function(t,e,s){},fea3:function(t,e,s){},ff65:function(t,e,s){}});
//# sourceMappingURL=app.d4623cb9.js.map